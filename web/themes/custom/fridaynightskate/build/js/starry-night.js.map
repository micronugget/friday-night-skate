{"version":3,"file":"/build/js/starry-night.js","mappings":"CAMA,SAAWA,EAAQC,GACjB,aAuDA,SAASC,IACP,IAAMC,EAAOC,KAAKC,SAClB,OAAIF,EAAO,GACF,aACEA,EAAO,GACT,aAEF,EACT,CA1DAH,EAAOM,UAAUC,YAAc,CAC7BC,OAAQ,SAAUC,EAASC,GAEzBT,EAAK,oBAAqB,OAAQQ,GAASE,QAAQ,SAAUC,IAWjE,WAEE,IAAIC,OAAOC,WAAW,oCAAoCC,WAKtDF,OAAOG,WAAa,KAKpBC,SAASC,cAAc,sBAA3B,CAIA,IAAMC,EAAYF,SAASG,cAAc,OACzCD,EAAUE,UAAY,mBACtBF,EAAUG,aAAa,cAAe,QAItC,IADA,IAAMC,EAAY,GACTC,EAAI,EAAGA,EAAID,EAAWC,IAAK,CAClC,IAAMC,EAAOR,SAASG,cAAc,OAC9BM,EAAYxB,IAClBuB,EAAKJ,UAAY,QAAHM,OAAWD,GACzBP,EAAUS,YAAYH,EACxB,CAGAR,SAASY,KAAKC,aAAaX,EAAWF,SAASY,KAAKE,WAhBpD,CAiBF,CAzCMC,GA2DN,WAEE,GAAM,yBAA0BnB,SAK5BA,OAAOC,WAAW,oCAAoCC,QAA1D,CAIA,IAMMkB,EAAW,IAAIC,qBAAqB,SAASC,GACjDA,EAAQxB,QAAQ,SAASyB,GACnBA,EAAMC,gBACRD,EAAME,OAAOC,UAAUC,IAAI,aAI/B,EACF,EAdwB,CACtBC,KAAM,KACNC,WAAY,qBACZC,UAAW,KAcU1B,SAAS2B,iBAC9B,mFAGajC,QAAQ,SAASC,GAC9BqB,EAASY,QAAQjC,EACnB,EAzBA,CA0BF,CA7FMkC,GAmGsB7B,SAAS2B,iBAAiB,2BAElCjC,QAAQ,SAASQ,GACjC,IAAM4B,EAAW5B,EAAU4B,SACrBC,EAAQC,WAAW9B,EAAU+B,QAAQC,eAAiB,GAE5DC,MAAMC,KAAKN,GAAUpC,QAAQ,SAAS2C,EAAOC,GAC3CD,EAAME,MAAMC,eAAiB,GAAH9B,OAAM4B,EAAQP,EAAK,IAC/C,EACF,EA1GE,EACF,GA+GFhD,EAAOM,UAAUoD,mBAAqB,CACpClD,OAAQ,SAAUC,EAASC,GACzBT,EAAK,eAAgB,eAAgBQ,GAASE,QAAQ,SAAUC,GAC9DA,EAAQ+C,iBAAiB,aAAc,WACrCC,KAAKJ,MAAMK,mBAAqB,SAClC,GAEAjD,EAAQ+C,iBAAiB,aAAc,WACrCC,KAAKJ,MAAMK,mBAAqB,QAClC,EACF,EACF,GAMF5C,SAAS0C,iBAAiB,mBAAoB,WAC5C,IAAMG,EAAkB7C,SAASC,cAAc,qBAC1C4C,IAED7C,SAAS8C,OACXD,EAAgBN,MAAMK,mBAAqB,SAE3CC,EAAgBN,MAAMK,mBAAqB,UAE/C,GAKA7D,EAAOM,UAAU0D,aAAe,CAC9BxD,OAAQ,SAAUC,EAASC,GAErBG,OAAOC,WAAW,oCAAoCC,SAI1Dd,EAAK,gBAAiB,eAAgBQ,GAASE,QAAQ,SAAUC,GAC/DA,EAAQ+C,iBAAiB,QAAS,SAASM,GACzC,IAAMC,EAAON,KAAKO,aAAa,QAC/B,GAAa,MAATD,GAAyB,kBAATA,EAApB,CAIA,IAAM5B,EAASrB,SAASC,cAAcgD,GAClC5B,IACF2B,EAAEG,iBACF9B,EAAO+B,eAAe,CACpBC,SAAU,SACVC,MAAO,UAILC,QAAQC,WACVD,QAAQC,UAAU,KAAM,KAAMP,GAZlC,CAeF,EACF,EACF,EAGH,CA5LD,CA4LGlE,OAAQC","sources":["webpack://fridaynightskate/./src/js/starry-night.js"],"sourcesContent":["/**\n * @file\n * Starry Night - Particle effects and dynamic animations\n * Creates celestial atmosphere with CSS-based stars\n */\n\n(function (Drupal, once) {\n  'use strict';\n\n  /**\n   * Initialize Starry Night particle effects\n   */\n  Drupal.behaviors.starryNight = {\n    attach: function (context, settings) {\n      // Only run once on page load\n      once('starry-night-init', 'body', context).forEach(function (element) {\n        initStarryParticles();\n        initScrollReveal();\n        initAnimationStagger();\n      });\n    }\n  };\n\n  /**\n   * Create starry particle container with CSS-based stars\n   */\n  function initStarryParticles() {\n    // Check if user prefers reduced motion\n    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {\n      return;\n    }\n\n    // Check if mobile (skip particles for performance)\n    if (window.innerWidth < 768) {\n      return;\n    }\n\n    // Check if container already exists\n    if (document.querySelector('.starry-container')) {\n      return;\n    }\n\n    const container = document.createElement('div');\n    container.className = 'starry-container';\n    container.setAttribute('aria-hidden', 'true');\n\n    // Generate stars with varied sizes\n    const starCount = 50;\n    for (let i = 0; i < starCount; i++) {\n      const star = document.createElement('div');\n      const sizeClass = getStarSize();\n      star.className = `star ${sizeClass}`;\n      container.appendChild(star);\n    }\n\n    // Insert at the beginning of body\n    document.body.insertBefore(container, document.body.firstChild);\n  }\n\n  /**\n   * Get random star size class\n   */\n  function getStarSize() {\n    const rand = Math.random();\n    if (rand < 0.1) {\n      return 'star-large';\n    } else if (rand < 0.4) {\n      return 'star-small';\n    }\n    return '';\n  }\n\n  /**\n   * Initialize Intersection Observer for scroll reveal animations\n   */\n  function initScrollReveal() {\n    // Check if IntersectionObserver is supported\n    if (!('IntersectionObserver' in window)) {\n      return;\n    }\n\n    // Check if user prefers reduced motion\n    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {\n      return;\n    }\n\n    const observerOptions = {\n      root: null,\n      rootMargin: '0px 0px -100px 0px',\n      threshold: 0.1\n    };\n\n    const observer = new IntersectionObserver(function(entries) {\n      entries.forEach(function(entry) {\n        if (entry.isIntersecting) {\n          entry.target.classList.add('is-visible');\n          // Optionally unobserve after animation\n          // observer.unobserve(entry.target);\n        }\n      });\n    }, observerOptions);\n\n    // Observe elements with scroll-reveal classes\n    const revealElements = document.querySelectorAll(\n      '.scroll-reveal, .scroll-reveal-left, .scroll-reveal-right, .scroll-reveal-scale'\n    );\n\n    revealElements.forEach(function(element) {\n      observer.observe(element);\n    });\n  }\n\n  /**\n   * Add staggered animation delays to child elements\n   */\n  function initAnimationStagger() {\n    const staggerContainers = document.querySelectorAll('[data-stagger-children]');\n\n    staggerContainers.forEach(function(container) {\n      const children = container.children;\n      const delay = parseFloat(container.dataset.staggerDelay) || 0.1;\n\n      Array.from(children).forEach(function(child, index) {\n        child.style.animationDelay = `${index * delay}s`;\n      });\n    });\n  }\n\n  /**\n   * Add floating animation to elements on hover (optional enhancement)\n   */\n  Drupal.behaviors.starryHoverEffects = {\n    attach: function (context, settings) {\n      once('starry-hover', '.hover-float', context).forEach(function (element) {\n        element.addEventListener('mouseenter', function() {\n          this.style.animationPlayState = 'running';\n        });\n\n        element.addEventListener('mouseleave', function() {\n          this.style.animationPlayState = 'paused';\n        });\n      });\n    }\n  };\n\n  /**\n   * Performance optimization: Pause animations when page is not visible\n   */\n  document.addEventListener('visibilitychange', function() {\n    const starryContainer = document.querySelector('.starry-container');\n    if (!starryContainer) return;\n\n    if (document.hidden) {\n      starryContainer.style.animationPlayState = 'paused';\n    } else {\n      starryContainer.style.animationPlayState = 'running';\n    }\n  });\n\n  /**\n   * Add smooth scroll behavior for better UX\n   */\n  Drupal.behaviors.smoothScroll = {\n    attach: function (context, settings) {\n      // Check if user prefers reduced motion\n      if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {\n        return;\n      }\n\n      once('smooth-scroll', 'a[href^=\"#\"]', context).forEach(function (element) {\n        element.addEventListener('click', function(e) {\n          const href = this.getAttribute('href');\n          if (href === '#' || href === '#main-content') {\n            return; // Let default behavior handle these\n          }\n\n          const target = document.querySelector(href);\n          if (target) {\n            e.preventDefault();\n            target.scrollIntoView({\n              behavior: 'smooth',\n              block: 'start'\n            });\n\n            // Update URL without jumping\n            if (history.pushState) {\n              history.pushState(null, null, href);\n            }\n          }\n        });\n      });\n    }\n  };\n\n})(Drupal, once);\n"],"names":["Drupal","once","getStarSize","rand","Math","random","behaviors","starryNight","attach","context","settings","forEach","element","window","matchMedia","matches","innerWidth","document","querySelector","container","createElement","className","setAttribute","starCount","i","star","sizeClass","concat","appendChild","body","insertBefore","firstChild","initStarryParticles","observer","IntersectionObserver","entries","entry","isIntersecting","target","classList","add","root","rootMargin","threshold","querySelectorAll","observe","initScrollReveal","children","delay","parseFloat","dataset","staggerDelay","Array","from","child","index","style","animationDelay","starryHoverEffects","addEventListener","this","animationPlayState","starryContainer","hidden","smoothScroll","e","href","getAttribute","preventDefault","scrollIntoView","behavior","block","history","pushState"],"sourceRoot":""}